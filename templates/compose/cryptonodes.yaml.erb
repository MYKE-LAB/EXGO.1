version: '3.6'

services:
  parity:
    image: parity/parity:beta
    restart: always
    command: |
      --chain=rinkeby
      --no-periodic-snapshot
      --jsonrpc-interface=0.0.0.0
      --jsonrpc-cors=all
      --jsonrpc-hosts=all
      --jsonrpc-apis=all
      --db-compaction=ssd
    volumes:
      - ../data/parity:/home/parity/.local/share/io.parity.ethereum
    expose:
      - "8545"
      - "30303"
    ports:
      - "8545:8545"
    labels:
      traefik.enable: true
      traefik.frontend.rule: 'Host: eth.<%= @config['app']['domain'] %>'
      traefik.port: 8545
